(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[4],{288:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t(89);function r(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,r=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(t.push(i.value),!a||t.length!==a);n=!0);}catch(o){r=!0,s=o}finally{try{n||null==l.return||l.return()}finally{if(r)throw s}}return t}}(e,a)||Object(n.a)(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},289:function(e,a,t){e.exports=t.p+"static/media/users-avatar.5e946c20.svg"},291:function(e,a,t){},292:function(e,a,t){},293:function(e,a,t){},294:function(e,a,t){},295:function(e,a,t){},296:function(e,a,t){},313:function(e,a,t){"use strict";t.r(a);var n=t(47),r=t(48),s=t(50),i=t(49),l=t(0),o=t.n(l),c=(t(291),t(288)),m=(t(292),function(e){var a=Object(l.useState)(!1),t=Object(c.a)(a,2),n=t[0],r=t[1],s=Object(l.useState)(e.status),i=Object(c.a)(s,2),m=i[0],p=i[1];Object(l.useEffect)((function(){p(e.status)}),[e.status]);return o.a.createElement(o.a.Fragment,null,!n&&o.a.createElement("div",{className:"profile__status"},o.a.createElement("span",{onDoubleClick:function(){r(!0)},className:"profile__status"}," ",m||"create status"," ")),n&&o.a.createElement("div",{className:"profile__status"},o.a.createElement("input",{className:"status_input",spellcheck:"false",onChange:function(e){p(e.currentTarget.value)},onBlur:function(){r(!1),e.updateStatus(m)},autoFocus:!0,value:m})))}),p=t(88),f=t(64),u=t(122),_=Object(u.a)({form:"edit-profile"})((function(e){var a=e.handleSubmit,t=e.profile,n=e.error;return o.a.createElement("form",{className:"profile__info",onSubmit:a},o.a.createElement("div",{className:"profile__name_wrapper"},o.a.createElement("div",{className:"profile__info_descr info_checkbox"},o.a.createElement("h1",{className:"profile__name"},Object(f.c)("Full name","fullName",[],f.a))),o.a.createElement("p",{className:"online"},"\u25cf online")),o.a.createElement("div",{className:"warn formError"},n),o.a.createElement("div",{className:"profile__info_list"},o.a.createElement("div",{className:"profile__info_item"},o.a.createElement("div",{className:"profile__info_descr"},"Relationship"),o.a.createElement("div",{className:"info_relationship info_checkbox"},Object(f.c)("","lookingForAJob",[],f.a,{type:"checkbox"}))),o.a.createElement("div",{className:"profile__info_item"},o.a.createElement("div",{className:"profile__info_descr"},"About me"),o.a.createElement("div",{className:"profile__info_descr info_input"},Object(f.c)("","aboutMe",[],f.a))),o.a.createElement("div",{className:"profile__info_item"},o.a.createElement("div",{className:"profile__info_descr"},"Looking for a job description "),o.a.createElement("div",{className:"profile__info_descr info_input"},Object(f.c)("my","lookingForAJobDescription",[],f.a))),o.a.createElement("div",null,Object.keys(t.contacts).map((function(e){return o.a.createElement("div",{key:e,className:"profile__info_item"},o.a.createElement("div",{className:"profile__info_descr"},e),o.a.createElement("div",{className:"profile__info_descr info_input"},Object(f.c)(e,"contacts."+e,[],f.a)))}))),o.a.createElement("button",{className:"save_info"},"save")))})),d=function(e){var a=e.profile,t=e.isOwner,n=e.runToEditMode,r=e.status,s=e.updateStatus,i=Object(l.useState)(!1),p=Object(c.a)(i,2),f=p[0],u=p[1];return o.a.createElement("div",{className:"profile__info"},o.a.createElement("div",{className:"profile__name_info_wrapper"},o.a.createElement("div",{className:"profile__name_wrapper"},o.a.createElement("h1",{className:"profile__name"},a.fullName),o.a.createElement("p",{className:"online"},"\u25cf online")),o.a.createElement(m,{status:r,updateStatus:s})),o.a.createElement("div",{className:"profile_detailInfo"},o.a.createElement("div",{className:"profile__info_item"},"Relationship: ",o.a.createElement("span",{className:"info_relationship"}," ",a.lookingForAJob?"yes":"no"," ")),f?o.a.createElement("div",{className:"profile__info_i"},Object.keys(a.contacts).map((function(e){return o.a.createElement(E,{className:"profile__info_items",key:e,contactTitle:e,contactValue:a.contacts[e]})}))):o.a.createElement(o.a.Fragment,null)),o.a.createElement("div",{className:"profile__info_optionsMode"},f?o.a.createElement("span",{className:"showInfo",onClick:function(){u(!1)}},"hidden info"):o.a.createElement("span",{className:"showInfo",onClick:function(){u(!0)}},"show Info"),t&&o.a.createElement("span",{className:"editInfo",onClick:n},"EDIT")))},E=function(e){var a=e.contactTitle,t=e.contactValue;return o.a.createElement("div",{className:"profile__info_item"},o.a.createElement("div",{className:"profile__info_descr"},a)," ",o.a.createElement("div",{className:"profile__info_items info_input"},t))},v=function(e){var a=e.profile,t=e.status,n=e.updateStatus,r=e.isOwner,s=e.saveProfile,i=Object(l.useState)(!1),m=Object(c.a)(i,2),f=m[0],u=m[1];return o.a.createElement("div",{className:"profile__info wrapper"},a?o.a.createElement(o.a.Fragment,null,f?o.a.createElement(_,{initialValues:a,profile:a,onSubmit:function(e){s(e).then((function(){u(!1)}))}}):o.a.createElement(d,{profile:a,isOwner:r,status:t,updateStatus:n,runToEditMode:function(){u(!0)}})):o.a.createElement(p.a,null))},h=(t(293),t(289)),N=t.n(h),b=function(e){return o.a.createElement("div",{className:"profile__avatar wrapper"},e.profile?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"profile_avatar_img_wrap"},o.a.createElement("img",{src:e.profile.photos.large?e.profile.photos.large:N.a,className:"profile__avatar_img",alt:"avatar"})),e.isOwner?o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"file",id:"input__file",className:"profile__photo",onChange:function(a){a.target.files.length&&e.savePhoto(a.target.files[0])}}),o.a.createElement("label",{htmlFor:"input__file",className:"profile__edit"},o.a.createElement("span",null,"update photo"))):o.a.createElement("label",{htmlFor:"input__file",className:"profile__edit"},o.a.createElement("span",null,"follow"))):o.a.createElement(p.a,null))},O=t(34),g=(t(294),t(295),function(e){return o.a.createElement("div",{className:"profile_posts wrapper item"},o.a.createElement("div",{className:"profile__headerPost"},o.a.createElement("div",{className:"profile__headerPost_wrapper"},o.a.createElement("div",{className:"profile__postAvatar"},o.a.createElement("img",{src:"https://sun9-49.userapi.com/c845122/v845122315/18e5e0/iAoBtrsGeFo.jpg",alt:"",className:"profile__postAvatar avatar"})),o.a.createElement("div",null,o.a.createElement("h2",{className:"profile__namePost"},e.name),o.a.createElement("p",{className:"profile__post_time"},"1 minute ago"))),o.a.createElement("div",{className:"profile__settingsPost"},"\u25cf\u25cf\u25cf")),o.a.createElement("div",{className:"profile__postBody"},e.content),o.a.createElement("div",{className:"profile_postFoother"},o.a.createElement("div",{className:"profile__postFeedback like"},o.a.createElement("i",{className:"fa fa-heart","aria-hidden":"true"})," ",e.like),o.a.createElement("div",{className:"profile__postFeedback comment"},o.a.createElement("i",{className:"fa fa-comment","aria-hidden":"true"})," ",e.comment)))}),w=(t(296),t(81)),P=t(60),j=Object(P.a)(1e3),k=function(e){return o.a.createElement("form",{className:"profile__inputPost_wrapper",onSubmit:e.handleSubmit},o.a.createElement(w.a,{component:f.b,name:"newPostText",className:"profile__newpost",placeholder:"new post...",validate:[P.b,j]}),o.a.createElement("button",{className:"profile__newpost_add"},"add"))},y=o.a.memo((function(e){var a=Object(O.a)(e.posts.postsData).map((function(e){return o.a.createElement(g,{key:e.id,id:e.id,name:e.name,content:e.content,like:e.like,comment:e.comment})})).reverse(),t=Object(u.a)({form:"Post"})(k);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"profile__createPost wrapper"},o.a.createElement("p",null,"New post"),o.a.createElement(t,{onSubmit:function(a){e.addPost(a.newPostText)}})),o.a.createElement("div",{className:"posts__wrapper"},a))})),S=function(e){return o.a.createElement("div",{className:"Profile"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"profile__user"},e.profile.profile?o.a.createElement(o.a.Fragment,null,o.a.createElement(b,{profile:e.profile.profile,isOwner:e.isOwner,savePhoto:e.savePhoto}),o.a.createElement("div",{className:"profile__inner"},o.a.createElement(v,{profile:e.profile.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,saveProfile:e.saveProfile}),o.a.createElement(y,{posts:e.profile,addPost:e.addPost}))):o.a.createElement(p.a,null))))},F=t(8),T=t(17),I=t(10),C=t(92),A=function(e){Object(s.a)(t,e);var a=Object(i.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(r.a)(t,[{key:"refrashProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfileTC(e),this.props.getStatusTC(e)}},{key:"componentDidMount",value:function(){this.refrashProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!=e.match.params.userId&&this.refrashProfile()}},{key:"render",value:function(){return o.a.createElement(S,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,posts:this.props.posts,status:this.props.status,updateStatus:this.props.updateStatusTC,addPost:this.props.addPost,saveProfile:this.props.saveProfile,savePhoto:this.props.savePhoto}))}}]),t}(o.a.Component);a.default=Object(F.d)(Object(T.b)((function(e){return{profile:e.profile,status:e.profile.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{setUserProfile:C.g,getProfileTC:C.c,getStatusTC:C.d,updateStatusTC:C.h,addPost:C.a,savePhoto:C.e,saveProfile:C.f}),I.g)(A)}}]);
//# sourceMappingURL=4.689149bc.chunk.js.map